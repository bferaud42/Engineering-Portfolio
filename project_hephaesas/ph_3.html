<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project Hephaesas | Brandon Feraud-Solorzano</title>
    <link rel="stylesheet" href="../style.css" />
    <style>
        /* Page-local styles so we don't disturb the rest of the site */
        :root {
            --ink: var(--text);
            --mutedInk: var(--muted);
            --edge: #e5e7eb;
            --gallery-main: #5b202b;
            --gallery-accent: #996260;
        }

        /* New bubble-style hero */
        .proj-hero {
            background: linear-gradient(#72ab89 0%, #5a9a75 100%);
            color: #ffffff;
            margin-top: 24px;
            margin-bottom: 24px;
            border-radius: 24px;
            padding: 20px 50px;
            display: flex;
            align-items: center;
            gap: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, .15);
            position: relative;
            overflow: hidden;
        }

        .proj-hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            pointer-events: none;
        }

        .proj-hero-content {
            position: relative;
            z-index: 1;
            flex: 1;
        }

        .proj-hero-img {
            position: relative;
            z-index: 1;
            width: 200px;
            height: 320px;
            /*background: rgba(255, 255, 255, 0.15);*/
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            /*border: 2px solid rgba(255, 255, 255, 0.3);*/
            flex-shrink: 0;
        }

        .proj-hero h1 {
            margin: 0 0 8px 0;
            font-family: Georgia, "Times New Roman", serif;
            font-size: clamp(28px, 5vw, 48px);
            line-height: 1.1;
        }

        .proj-hero .sub {
            margin: 6px 0 16px;
            font-size: clamp(14px, 1.8vw, 18px);
            color: rgba(255, 255, 255, .9);
        }

        .quick-facts {
            margin-top: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .quick-facts-label {
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.9;
        }

        .quick-facts-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .tools-used {
            margin-top: 12px;
        }

        .tools-used-label {
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .proj-badge {
            background: rgba(255, 255, 255, .15);
            border: 1px solid rgba(255, 255, 255, .4);
            padding: 8px 14px;
            border-radius: 999px;
            font-weight: 700;
            font-size: 12px;
            letter-spacing: .02em;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        /* Sticky navigation bubble */
        .proj-nav-bubble {
            position: sticky;
            top: 16px;
            height: 20px;
            width: fit-content;
            z-index: 100;
            background: #996260;
            border-radius: 15px;
            padding: 12px 24px;
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            box-shadow: 0 12px 32px rgba(0, 0, 0, .2);
            margin: 24px auto;
            overflow: hidden;
        }

        .proj-nav-bubble::before {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            pointer-events: none;
        }

        .proj-nav-link {
            position: relative;
            z-index: 1;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.8);
            padding: 12px 24px;
            border-radius: 40px;
            font-weight: 700;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .proj-nav-link:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        .proj-nav-link.active {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.25);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            box-shadow: inset 0 2px 8px rgba(255, 255, 255, 0.2);
        }

        .proj-layout {
            display: block;
            margin-top: 0;
        }

        .proj-card {
            background: #fff;
            border: 1px solid var(--edge);
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, .08);
            padding: 20px;
        }

        .proj-card h2 {
            margin: 0 0 10px;
            font-size: 20px;
        }

        .proj-card p {
            margin: 0 0 10px;
            line-height: 1.6;
        }

        .proj-toc {
            display: none;
        }

        .proj-section {
            background: #fff;
            border: 1px solid var(--edge);
            border-radius: 12px;
            padding: 22px;
            margin-bottom: 24px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, .06);
        }

        .proj-section h3 {
            margin: 0 0 10px;
            font-size: 18px;
        }

        .proj-specs {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 12px;
        }

        .proj-spec {
            border: 1px dashed var(--edge);
            border-radius: 10px;
            padding: 12px;
        }

        .proj-spec .k {
            color: var(--mutedInk);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: .04em;
        }

        .proj-spec .v {
            font-weight: 700;
            margin-top: 4px;
        }

        .pill {
            display: inline-block;
            font-size: 12px;
            padding: 6px 10px;
            border-radius: 999px;
            border: 1px solid var(--edge);
            background: #fafafc;
        }

        /* Reusable media blocks */
        .proj-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        .proj-grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        .proj-grid-item {
            /*background: #f9f9f900;
            border: 1px solid var(--edge);*/
            border-radius: 10px;
            overflow: hidden;
        }

        .proj-grid-img {
            background: #e0e0e000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 14px;
            width: auto;
            object-fit: contain;
            margin: 10px;
        }

        .proj-grid-caption {
            border: 2px solid #10b981;
            background: #f0fdf4; 
            padding: 20px; 
            border-radius: 12px; 
            border: 1px solid #a7f3d0;
        }

        .proj-grid-caption h4 {
            font-size: 15px;
            font-weight: 600;
            margin: 0 0 6px;
            color: #059669;
        }

        .proj-grid-caption p {
            font-size: 13px;
            color: var(--mutedInk);
            margin: 0;
            line-height: 1.5;
        }
         .summary-grid {
            display: grid;
            grid-template-columns: .6fr .4fr;
            gap: 50px;
            align-items: center;
        }

        .summary-media {
            border-radius: 12px;
            overflow: hidden;
            background: #f7f7f9;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 120px;
        }

        .summary-text p {
            margin: 0 0 10px;
            line-height: 1.6;
        }

        .summary-media img {
            width: 100%;
            height: auto;
            object-fit: contain;
        }
        
        .application-item{
            margin-top: 12px;
            padding: 16px;
            border-radius: 12px; 
            border: 2px solid #10b981;
        }

        .application-item h4 {
            font-size: 15px; 
            font-weight: 600; 
            margin: 0 0 8px;
            color: #059669;
        }

        /* Gallery styling */
        .gallery-container {
            margin-top: 20px;
        }

        .gallery-header {
            font-size: 24px;
            font-weight: 700;
            color: var(--gallery-main);
            margin-bottom: 20px;
            text-align: center;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .gallery-item {
            background: #fff;
            border: 1px solid var(--edge);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, .08);
        }

        .gallery-caption {
            padding: 12px;
            font-size: 13px;
            color: var(--mutedInk);
            line-height: 1.5;
        }

        /* 3D Viewer Container */
        #viewer-container {
            width: 100%;
            height: 500px;
            background: #f5f7fa;
            border-radius: 12px;
            border: 1px solid var(--edge);
            position: relative;
            overflow: hidden;
        }

        .viewer-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .viewer-btn {
            padding: 10px 20px;
            background: var(--gallery-main);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 13px;
            transition: all 0.2s;
        }

        .viewer-btn:hover {
            background: var(--gallery-accent);
            transform: translateY(-2px);
        }

        .viewer-btn.active {
            background: var(--gallery-accent);
            box-shadow: 0 4px 12px rgba(0, 0, 0, .2);
        }

        /* PDF block styling */
        .pdf-block {
            margin-top: 20px;
            border: 1px solid var(--edge);
            border-radius: 12px;
            overflow: hidden;
        }

        .pdf-toolbar {
            background: var(--gallery-main);
            color: white;
            padding: 12px 16px;
            font-weight: 600;
        }

        .pdf-title {
            font-size: 15px;
        }

        .pdf-frame {
            width: 100%;
            height: 600px;
            border: none;
        }

        .proj-note {
            font-size: 13px;
            color: var(--mutedInk);
            font-style: italic;
        }

        @media (max-width: 768px) {
            .proj-grid {
                grid-template-columns: 1fr;
            }

            .proj-hero {
                flex-direction: column;
                text-align: center;
            }

            .proj-hero-img {
                width: 100%;
                max-width: 300px;
            }

            .viewer-controls {
                flex-direction: column;
            }

            .proj-nav-bubble {
                overflow-x: auto;
                justify-content: flex-start;
            }
        }
    </style>
</head>

<body>
    <div class="page" role="main">
        <!-- HEADER -->
        <header class="site-header">
            <div class="brand">
                <div class="brand-name">Brandon Feraud-Solorzano</div>
                <div class="brand-sub">Cornell University • B.S. Mechanical Engineering • M.Eng. Mechanical Engineering
                </div>
            </div>
            <nav class="primary-nav" aria-label="Primary navigation">
                <a href="../index.html">Home</a>
                <a href="../about.html">About</a>
                <a href="../education.html">Education</a>
                <a href="../works.html" class="active">Works</a>
                <a href="../resume.html">Resume</a>
            </nav>
            <button class="menu-btn" aria-controls="mobile-nav" aria-expanded="false" id="menuBtn">☰</button>
        </header>

       <!-- Mobile nav -->
        <div class="mobile-nav" id="mobileNav" aria-hidden="true">
            <div class="box" role="dialog" aria-modal="true">
                <a href="../index.html" onclick="closeMenu()">Home</a>
                <a href="../about.html" onclick="closeMenu()">About</a>
                <a href="../education.html" onclick="closeMenu()">Education</a>
                <a href="../works.html" onclick="closeMenu()">Works</a>
                <a href="../resume.html" onclick="closeMenu()">Resume</a>
                <button class="close-btn" onclick="closeMenu()">Close</button>
            </div>
        </div>

        <div class="return-bar">
            <a href="../works.html" class="btn-return">← Return to Works Page</a>
        </div>

        <!-- HERO -->
        <div class="proj-hero">
            <div class="proj-hero-img">
                <img src="pj_logo_pic.png" alt="Project Hephaesas Overview Diagram" />
            </div>

            <div class="proj-hero-content">
                <h1>Project Hephaesas</h1>
                <div class="sub">Automating CAD Design with Multi-Agent AI Systems</div>

                <div class="quick-facts">
                    <div class="quick-facts-label">Quick Facts</div>
                    <div class="quick-facts-pills">
                        <span class="proj-badge">Role: Lead Researcher & Developer</span>
                        <span class="proj-badge">Advisor: Nikolaos Bouklas</span>
                        <span class="proj-badge">August 2025-Current</span>
                        <span class="proj-badge">CAD Automation</span>
                        <span class="proj-badge">AI/ML</span>
                    </div>
                </div>

                <div class="tools-used">
                    <div class="tools-used-label">Tools Used</div>
                    <div class="quick-facts-pills">
                        <span class="proj-badge">Python</span>
                        <span class="proj-badge">Autogen AgentChat</span>
                        <span class="proj-badge">CadQuery</span>
                        <span class="proj-badge">Docker</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- NAVIGATION BUBBLE -->
        <div class="proj-nav-bubble">
            <a href="#summary" class="proj-nav-link" data-section="summary">Summary</a>
            <a href="#problem" class="proj-nav-link" data-section="problem">Problem</a>
            <a href="#solution" class="proj-nav-link" data-section="solution">Solution</a>
            <a href="#applications" class="proj-nav-link" data-section="applications">Applications</a>
            <a href="#gallery" class="proj-nav-link" data-section="gallery">3D Gallery</a>
            <a href="#results" class="proj-nav-link" data-section="results">Preliminary Results</a>
        </div>

        <!-- MAIN CONTENT -->
        <div class="proj-layout">
            <!-- SUMMARY -->
            <section id="summary" class="proj-section">
                <h3>Project Summary</h3>
                <div class="summary-grid">
                    <div class="summary-text">
                <p>Project Hephaesas is a research initiative that addresses the critical bottleneck in modern product development: the time-consuming, manual nature of Computer-Aided Design (CAD) modeling. 
                    By leveraging large language models (LLMs) and multi-agent architectures, this project introduces an text-to-CAD workflow that translates natural language requirements into editable, parametric CAD models.</p>

                <p>Across 30 test designs, the workflow demonstrated competitive performance with human CAD experts, achieving an average generation time of 6.3 minutes for later designs, with 60% of designs accurately representing 
                    user intent and 50% producing fully editable parametric scripts alongside exportable geometry.</p>
                    </div>
                <div class="summary-media">
                    <img src="../photos/project_h_1.jpg" alt="Project Hephaesas Overview Diagram" />
                    </div>
                </div>
            </section>

            <!-- PROBLEM -->
            <section id="problem" class="proj-section">
                <h3>The Problem: CAD as an Iteration Bottleneck</h3>
                <div class="proj-grid-2">
                    <div class="proj-grid-item">
                        <div class="proj-grid-img">
                            <img src="icons/graph.png" alt="Learning Curve Icon" style="width: 20%; height: 20%; object-fit: contain;"/>
                        </div>
                        <div class="proj-grid-caption" style="margin-top: 25px;">
                            <h4 style="justify-content: center;">Steep Learning Curve</h4>
                            <p>CAD software requires specialized expertise and procedural knowledge. The interface-driven workflow demands mastery of discrete GUI operations (sketches, extrusions, fillets, patterns) that are powerful 
                                but time-consuming to execute and reproduce. As a result, design knowledge becomes "locked" in operator expertise rather than being systematically transferable.</p>
                        </div>
                    </div>

                    <div class="proj-grid-item">
                        <div class="proj-grid-img">
                            <img src="icons/clock.png" alt="Time Complexity Icon" style="width: 20%; height: 20%; object-fit: contain;"/>
                        </div>
                        <div class="proj-grid-caption" style="margin-top: 25px;">
                            <h4>Time Complexity</h4>
                            <p>Modeling time scales proportionally with design complexity. Each iteration requires manual reconstruction of geometry, careful constraint management, and attention to downstream requirements like manufacturability. 
                                This makes CAD a pacing item for experimentation, especially early in development when designs change rapidly and the goal is exploration rather than finalization.</p>
                        </div>
                    </div>

                    <div class="proj-grid-item">
                        <div class="proj-grid-img">
                            <img src="icons/thought.jpg" alt="Implicit Design Intent Icon" style="width: 30%; height: 30%; object-fit: contain;"/>
                        </div>
                        <div class="proj-grid-caption">
                            <h4>Implicit Design Intent</h4>
                            <p>Traditional CAD workflows capture "how" a model was built rather than "what" requirements it satisfies. Design intent is often implicit in modeling choices rather than explicitly represented as a reusable specification. 
                                This makes it difficult to systematically modify designs in response to changing requirements or to validate that a model meets its functional goals.</p>
                        </div>
                    </div>

                    <div class="proj-grid-item">
                        <div class="proj-grid-img">
                            <img src="icons/gear.jpg" alt="Limited Automation Icon" style="width: 30%; height: 30%; object-fit: contain;"/>
                        </div>
                        <div class="proj-grid-caption">
                            <h4>Limited Automation</h4>
                            <p>Despite advances in simulation and digital manufacturing, CAD modeling itself remains highly manual. Parametric capabilities exist but require upfront planning and technical sophistication. There's a fundamental gap 
                                between high-level design intent and low-level geometric operations that current tools don't bridge effectively.</p>
                                <br>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SOLUTION -->
            <section id="solution" class="proj-section">
                <h3>The Solution: AI-Workflow for CAD</h3>
                <p>Project Hephaesas addresses these challenges by shifting from "click-to-build" to "intent-to-build" CAD. Rather than relying on manual modeling or simple prompt-to-model generation, the system uses a sophisticated pipeline that 
                    decomposes the translation from natural language to parametric geometry into distinct, verifiable stages. This architecture emphasizes AI-human collaboration, where AI handles procedural overhead while preserving human oversight 
                    and editability.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">AI-Human Collaboration Design Philosophy</h4>

                <p>Rather than attempting full automation, Project Hephaesas is architected around augmentation. The collaboration model acknowledges that AI excels at pattern matching and procedural execution but still requires human oversight for 
                    ambiguity resolution, functional validation, and design optimization. Engineers review and refine AI-generated designs rather than building models from scratch, shifting their time toward design evaluation and decision-making where engineering judgment creates value.</p>
            
                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">Intelligent Multi-Stage Processing</h4>
                <p>The workflow processes design requests through specialized AI stages, each focused on a specific aspect of the modeling process. By breaking down the complex task of CAD generation into these stages, the system can handle ambiguity more effectively, recover from errors more 
                    gracefully, and produce outputs that are geometrically correct. This separation of concerns improves reliability and creates clear checkpoints for quality assurance.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">Editable Parametric Outputs</h4>
                <p>Unlike black-box generative approaches, Project Hephaesas produces two key artifacts: (1) an editable script with explicit variable definitions, enabling rapid regeneration and parameter-driven edits, and (2) neutral-format geometry exports (STEP files) for interoperability 
                    with downstream tools. This dual-artifact approach preserves the benefits of parametric CAD while enabling seamless integration into existing workflows.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">B-Rep Modeling for CAD Compatibility</h4>
                <p>The system uses Boundary Representation (B-Rep) modeling, which represents 3D objects as collections of surfaces, edges, and vertices. This approach is fundamentally different from mesh-based 3D modeling used in entertainment and is specifically designed for engineering and manufacturing applications.</p>

                <p>B-Rep maintains exact mathematical definitions of surfaces rather than approximations, enabling precise dimensional control and downstream manufacturing operations. As an industry standard, this makes the generated models directly compatible with industry-standard CAD 
                    software and manufacturing processes including CNC machining, injection molding, and additive manufacturing.</p>

                </section>

            <!-- APPLICATIONS -->
            <section id="applications" class="proj-section">
                <h3>Applications & Use Cases</h3>
                <p>Project Hephaesas opens new possibilities for how engineering teams approach design. By reducing the friction between concept and model, the system enables use cases that are impractical with traditional CAD methods:</p>

                <div class="application-item">
                    <h4>Quick Prototyping</h4>
                    <p style="margin: 0; font-size: 13px; line-height: 1.5;">Generate parametric "rough drafts" in minutes rather than hours and accelerate early-stage ideation. The workflow's time-to-first-artifact performance (6-10 minutes) is competitive 
                        with skilled human modeling for simple parts, making it viable for rapid concept validation. This speed advantage compounds in iteration-heavy projects where multiple design candidates must be evaluated quickly.</p>
                </div>

                <div class="application-item">
                    <h4>Parallel Design Assessment</h4>
                    <p style="margin: 0; font-size: 13px; line-height: 1.5;">Generate multiple solution candidates simultaneously for comparative evaluation. The multi-agent architecture's near-constant runtime means that five design variations can be produced almost simultaneously. 
                        This enables parallel exploration strategies where teams can evaluate competing approaches side-by-side, assess trade-offs in real-time, and make informed decisions based on comparative analysis rather than sequential iteration.</p>
                </div>

                <div class="application-item">
                    <h4>Requirement-Based Designing</h4>
                    <p style="margin: 0; font-size: 13px; line-height: 1.5;">Shift from implementation-focused modeling to constraint-satisfaction workflows. Rather than specifying how to build a model through procedural steps, designers articulate what 
                        requirements (like dimensional constraints) must be satisfied.</p>
                </div>

                <p style="margin-top: 16px;">These applications suggest a broader implication: as AI handles procedural overhead, engineering work shifts toward higher-leverage activities. The value proposition isn't eliminating human involvement but 
                    reallocating effort to where it creates the most impact.</p>
            </section>

            <!-- 3D GALLERY -->
            <section id="gallery" class="proj-section">
                <div class="gallery-container">
                    <div class="gallery-header">3D Model Gallery</div>
                    
                    <p style="margin-bottom: 16px;">Explore the CAD models generated by Project Hephaesas. These parametric designs were created from natural language prompts, demonstrating the system's ability to translate intent into editable, manufacturable geometry. Use the controls below to view different models.</p>

                    <!-- Model Selection Controls -->
                    <div class="viewer-controls">
                        <button class="viewer-btn active" data-model="model1">Mallet</button>
                        <button class="viewer-btn" data-model="model2">36-Tooth Gear</button>
                        <button class="viewer-btn" data-model="model3">Bike Brake Rotor</button>
                        <button class="viewer-btn" data-model="model4">Table (200lb Capacity)</button>
                    </div>
                </div>

                    <!-- 3D Viewer Container -->
                    <div id="viewer-container">
                        <!-- Three.js will render the 3D model here -->
                    </div>
                    <p style="margin-top: 16px; font-size: 13px; color: var(--mutedInk); font-style: italic;">
                        <strong>Controls:</strong> Left-click and drag to rotate • Right-click and drag to pan • Scroll to zoom
                    </p>

            </section>

            <!-- PRELIMINARY RESULTS -->
            <section id="results" class="proj-section">
                <h3>Preliminary Results & Performance Metrics</h3>
                <p>Across 30 test designs evaluated between August 2025 and December 2025, Project Hephaesas demonstrated proof-of-concept viability for LLM-driven CAD automation. Performance was assessed across three dimensions: speed, 
                    completion rate, and intent-fidelity accuracy.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">Speed: Competitive with Human Modeling</h4>
                <p>Average end-to-end runtime from natural language prompt to deliverable artifacts was <strong>7 minutes and 42 seconds</strong>. Variance across all designs was approximately <strong>34 seconds</strong>, indicating consistent performance
                     regardless of geometric complexity.</p>

                <p>This performance is competitive with skilled human modeling for simple parts. Industry CAD challenges like Model Mania report typical completion times of 30-45 minutes for full modeling attempts, with elite performance 
                    in the single-digit minutes range. The workflow's near-constant runtime suggests strong potential for large-scale, iteration-heavy projects where human modeling time scales with feature count and design complexity.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">Completion Rate: 50% Full Parametric Artifacts</h4>
                <p>The workflow achieved 15/30 (50%) fully completed runs, defined as producing both exportable geometry (STEP files) and executable parametric scripts. The remaining 15/30 (50%) yielded 
                    geometry-only outputs, where final solids were exported but scripts required manual refinement.</p>

                <h4 style="margin-top: 20px; font-size: 16px; font-weight: 600;">Accuracy: 60% Intent-Faithful Designs</h4>
                <p>Manual intent-fidelity scoring categorized designs as: 18/30 (60%) accurate representations of the original prompt, 9/30 (30%) partially accurate but capturing core design intent, and 3/30 (10%)requiring significant revision.</p>

                <p>The high proportion of accurate and partially accurate designs (90% combined) demonstrates that the system reliably captures and translates user intent into functional CAD models. The partially accurate category represents designs that successfully implemented the fundamental
                    geometry but may have benefited from additional clarification or refinement.</p>
                </section>
        </div>

        <footer class="site-footer">
            <div>© Brandon Feraud-Solorzano</div>
        </footer>
    </div>

    <!-- Three.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- GLTF Loader for loading 3D models -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>

    <script>
        // Mobile menu functionality
        const menuBtn = document.getElementById('menuBtn');
        const mobileNav = document.getElementById('mobileNav');
        function openMenu() { 
            mobileNav.classList.add('open'); 
            mobileNav.setAttribute('aria-hidden', 'false'); 
            menuBtn.setAttribute('aria-expanded', 'true'); 
        }
        function closeMenu() { 
            mobileNav.classList.remove('open'); 
            mobileNav.setAttribute('aria-hidden', 'true'); 
            menuBtn.setAttribute('aria-expanded', 'false'); 
        }
        if (menuBtn) {
            menuBtn.addEventListener('click', () => { 
                mobileNav.classList.contains('open') ? closeMenu() : openMenu(); 
            });
            window.addEventListener('keydown', (e) => { 
                if (e.key === 'Escape') closeMenu(); 
            });
        }

        // Smooth scrolling for sidebar navigation
        document.querySelectorAll('.proj-toc a').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetElement = document.getElementById(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
        
        // Scene setup
        let scene, camera, renderer;
        let currentMesh = null;
        let previousMousePosition = { x: 0, y: 0 };

        console.log('Script loaded');
        
        const modelButtons = document.querySelectorAll('.viewer-btn');
        const container = document.getElementById('viewer-container');
        
        console.log('Model buttons found:', modelButtons.length);
        console.log('Container element:', container);

        // Model configuration
        const models = {
            model1: {
                name: 'Mallet',
                description: 'Query: Mallet the size of a gavel. It should have a cylindrical head.',
                useDemo: false,
                path: 'models/mallet_4.glb',
                customScale: 2  // Adjust this value: increase to make bigger, decrease to make smaller
            },
            model2: {
                name: '36-tooth gear',
                description: 'Query: I want a 36-tooth gear with a diameter of 6cm',
                useDemo: false,
                path: 'models/36_tooth_gear_2.glb',
                customScale: 2  // Adjust this value: increase to make bigger, decrease to make smaller
            },
            model3: {
                name: 'Bike Brake Rotor',
                description: 'Query: Make a bicycle disk brake that has a rotor of 180mm and a 6-bolt mounting system.',
                useDemo: false,
                path: 'models/brake_rotor_2.glb',
                customScale: 2  // Adjust this value: increase to make bigger, decrease to make smaller
            },
            model4: {
                name: 'Table',
                description: 'Query: Table that can withstand 200 kg',
                useDemo: false,
                path: 'models/table_2.glb',
                customScale: 2  // Adjust this value: increase to make bigger, decrease to make smaller
            }
        };

        function init() {
            console.log('init() called');
            console.log('THREE available:', typeof THREE);
            console.log('Container:', container);
            
            // Create scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0xffffff);

            // Create camera
            camera = new THREE.PerspectiveCamera(
                45,
                container.clientWidth / container.clientHeight,
                0.1,
                1000
            );
            camera.position.set(0, 0, 12);

            // Create renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            container.appendChild(renderer.domElement);
            
            console.log('Renderer appended to container');

            // Add lights
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);

            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(5, 10, 7);
            directionalLight.castShadow = true;
            directionalLight.shadow.mapSize.width = 2048;
            directionalLight.shadow.mapSize.height = 2048;
            scene.add(directionalLight);

            const fillLight = new THREE.DirectionalLight(0xffffff, 0.3);
            fillLight.position.set(-5, 0, -5);
            scene.add(fillLight);

            // Setup controls
            setupMouseControls();

            // Handle window resize
            window.addEventListener('resize', onWindowResize);

            // Load first model
            loadModel('model1');

            // Start animation loop
            animate();
        }

        function loadModel(modelId) {
            console.log('loadModel() called with:', modelId);
            const modelConfig = models[modelId];
            console.log('Model config:', modelConfig);
            
            // Update header
            document.getElementById('model-title').textContent = modelConfig.name;
            document.getElementById('model-description').textContent = modelConfig.description;

            // Remove existing mesh
            if (currentMesh) {
                scene.remove(currentMesh);
                currentMesh = null;
            }

            // Reset camera
            camera.position.set(0, 0, 12);
            camera.lookAt(0, 0, 0);

            // Load actual GLB/GLTF model
            const loader = new THREE.GLTFLoader();
            
            loader.load(
                modelConfig.path,
                // onLoad callback
                (gltf) => {
                    currentMesh = gltf.scene;
                    
                    // Step 1: Get initial bounding box
                    const box = new THREE.Box3().setFromObject(currentMesh);
                    const size = box.getSize(new THREE.Vector3());
                    const center = box.getCenter(new THREE.Vector3());
                    
                    console.log(`${modelConfig.name} BEFORE centering:`, {
                        size: { x: size.x.toFixed(2), y: size.y.toFixed(2), z: size.z.toFixed(2) },
                        center: { x: center.x.toFixed(2), y: center.y.toFixed(2), z: center.z.toFixed(2) }
                    });
                    
                    // Step 2: Center the model at origin
                    currentMesh.position.x = -center.x;
                    currentMesh.position.y = -center.y;
                    currentMesh.position.z = -center.z;
                    
                    // Step 3: Calculate target scale
                    const maxDim = Math.max(size.x, size.y, size.z);
                    const baseTargetSize = 4; // Base target size in world units
                    
                    // Apply custom scale multiplier if specified
                    const customMultiplier = modelConfig.customScale || 1.0;
                    const targetSize = baseTargetSize * customMultiplier;
                    
                    const scaleFactor = targetSize / maxDim;
                    
                    // Step 4: Apply uniform scale
                    currentMesh.scale.set(scaleFactor, scaleFactor, scaleFactor);
                    
                    console.log(`${modelConfig.name} SCALING:`, {
                        originalMaxDim: maxDim.toFixed(2),
                        baseTargetSize: baseTargetSize,
                        customMultiplier: customMultiplier,
                        finalTargetSize: targetSize.toFixed(2),
                        scaleFactor: scaleFactor.toFixed(6)
                    });
                    
                    // Step 5: Verify final size
                    const finalBox = new THREE.Box3().setFromObject(currentMesh);
                    const finalSize = finalBox.getSize(new THREE.Vector3());
                    const finalCenter = finalBox.getCenter(new THREE.Vector3());
                    
                    console.log(`${modelConfig.name} FINAL:`, {
                        size: { x: finalSize.x.toFixed(2), y: finalSize.y.toFixed(2), z: finalSize.z.toFixed(2) },
                        center: { x: finalCenter.x.toFixed(2), y: finalCenter.y.toFixed(2), z: finalCenter.z.toFixed(2) }
                    });
                    
                    // Step 6: Reset camera position to ensure model is visible
                    camera.position.set(0, 0, 15);
                    camera.lookAt(0, 0, 0);
                    
                    // Enable shadows
                    currentMesh.traverse((node) => {
                        if (node.isMesh) {
                            node.castShadow = true;
                            node.receiveShadow = true;
                        }
                    });
                    
                    scene.add(currentMesh);
                },
                // onProgress callback
                (xhr) => {
                    console.log((xhr.loaded / xhr.total * 100) + '% loaded');
                },
                // onError callback
                (error) => {
                    console.error('Error loading model:', error);
                    console.log('Model path attempted:', modelConfig.path);
                    
                    // Show a placeholder cube when model fails to load
                    const geometry = new THREE.BoxGeometry(3, 3, 3);
                    const material = new THREE.MeshStandardMaterial({ 
                        color: 0x996260,
                        metalness: 0.3,
                        roughness: 0.7
                    });
                    currentMesh = new THREE.Mesh(geometry, material);
                    currentMesh.castShadow = true;
                    currentMesh.receiveShadow = true;
                    scene.add(currentMesh);
                    
                    console.log('Placeholder cube added instead');
                }
            );
        }

        function setupMouseControls() {
            let isRotating = false;
            let isPanning = false;

            // Mouse down - detect left or right click
            renderer.domElement.addEventListener('mousedown', (e) => {
                e.preventDefault();
                
                if (e.button === 0) { // Left click
                    isRotating = true;
                    renderer.domElement.style.cursor = 'grabbing';
                } else if (e.button === 2) { // Right click
                    isPanning = true;
                    renderer.domElement.style.cursor = 'move';
                }
                
                previousMousePosition = { x: e.clientX, y: e.clientY };
            });

            // Mouse move
            window.addEventListener('mousemove', (e) => {
                if (!currentMesh) return;

                const deltaX = e.clientX - previousMousePosition.x;
                const deltaY = e.clientY - previousMousePosition.y;

                if (isRotating) {
                    // Rotate model around Y and X axes
                    currentMesh.rotation.y += deltaX * 0.01;
                    currentMesh.rotation.x += deltaY * 0.01;
                } else if (isPanning) {
                    // Pan the camera
                    const panSpeed = 0.01;
                    camera.position.x -= deltaX * panSpeed;
                    camera.position.y += deltaY * panSpeed;
                }

                previousMousePosition = { x: e.clientX, y: e.clientY };
            });

            // Mouse up
            window.addEventListener('mouseup', () => {
                isRotating = false;
                isPanning = false;
                renderer.domElement.style.cursor = 'grab';
            });

            // Prevent context menu on right-click
            renderer.domElement.addEventListener('contextmenu', (e) => {
                e.preventDefault();
            });

            // Zoom with mouse wheel - proportional to current distance
            renderer.domElement.addEventListener('wheel', (e) => {
                e.preventDefault();
                
                // Calculate zoom factor based on current camera distance
                const currentDistance = camera.position.length();
                const zoomSpeed = 0.1;
                const zoomFactor = 1 + (e.deltaY > 0 ? zoomSpeed : -zoomSpeed);
                
                // Apply zoom by scaling camera position
                camera.position.multiplyScalar(zoomFactor);
                
                // Clamp the distance to prevent going too close or too far
                const newDistance = camera.position.length();
                const minDistance = 2;
                const maxDistance = 20;
                
                if (newDistance < minDistance) {
                    camera.position.setLength(minDistance);
                } else if (newDistance > maxDistance) {
                    camera.position.setLength(maxDistance);
                }
            }, { passive: false });

            // Set initial cursor
            renderer.domElement.style.cursor = 'grab';
        }

        function onWindowResize() {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        }

        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }

        // Model button click handlers
        modelButtons.forEach(button => {
            button.addEventListener('click', () => {
                // Remove active class from all buttons
                modelButtons.forEach(btn => btn.classList.remove('active'));
                
                // Add active class to clicked button
                button.classList.add('active');
                
                // Load the selected model
                const modelId = button.getAttribute('data-model');
                loadModel(modelId);
            });
        });

        // Initialize the scene when page loads
        window.addEventListener('load', () => {
            init();
        });
    </script>


        <!-- Navigation scroll tracking script -->
    <script>
        // Track active section on scroll
        const sections = document.querySelectorAll('.proj-section');
        const navLinks = document.querySelectorAll('.proj-nav-link');

        function updateActiveSection() {
            let currentSection = '';
            const scrollPosition = window.scrollY + 150; // Offset for better triggering

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                const linkSection = link.getAttribute('data-section');
                if (linkSection === currentSection) {
                    link.classList.add('active');
                }
            });
        }

        // Smooth scroll for navigation links
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetId = link.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                
                if (targetSection) {
                    const offset = 80; // Account for sticky nav
                    const targetPosition = targetSection.offsetTop - offset;
                    
                    window.scrollTo({
                        top: targetPosition,
                        behavior: 'smooth'
                    });
                }
            });
        });

        // Listen for scroll events
        window.addEventListener('scroll', updateActiveSection);
        
        // Initial check
        updateActiveSection();
    </script>


</body>

</html>
